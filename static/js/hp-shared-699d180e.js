var w=Object.defineProperty,$=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var g=(r,e,t)=>e in r?w(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,j=(r,e)=>{for(var t in e||(e={}))x.call(e,t)&&g(r,t,e[t]);if(m)for(var t of m(e))A.call(e,t)&&g(r,t,e[t]);return r},p=(r,e)=>$(r,E(e));var f=(r,e,t)=>(g(r,typeof e!="symbol"?e+"":e,t),t);import{a as y}from"./js-cookie-08c1a0ad.js";const u={toFirstUpperCase(r=""){var e;return`${((e=r[0])!=null?e:"").toUpperCase()}${r.slice(1)}`},toFirstLowerCase(r=""){var e;return`${((e=r[0])!=null?e:"").toLowerCase()}${r.slice(1)}`},toCamelCase(r,{separator:e="-",first:t="raw"}={}){const s=new RegExp(`${e}(\\w)`,"g"),n=r.replaceAll(s,(c,o)=>o.toUpperCase());return[!0,"uppercase"].includes(t)?u.toFirstUpperCase(n):[!1,"lowercase"].includes(t)?u.toFirstLowerCase(n):n},toLineCase(r="",{separator:e="-"}={}){return r.replaceAll(/([a-z])([A-Z])/g,`$1${e}$2`).toLowerCase()}};function S(){return!1}function N(r){return r}const l={SIMPLE_TYPES:[null,void 0,Number,String,Boolean,BigInt,Symbol],getExactType(r){if([null,void 0].includes(r))return r;const e=Object.getPrototypeOf(r);return e===null||!("constructor"in e)?Object:e.constructor},getExactTypes(r){if([null,void 0].includes(r))return[r];let e=[],t=0,s=!1,n=Object.getPrototypeOf(r);for(;;){if(n===null){(t<=0||s)&&e.push(Object);break}"constructor"in n?e.push(n.constructor):(e.push(Object),s=!0),n=Object.getPrototypeOf(n),t++}return e},deepClone(r){if(r instanceof Array){let e=[];for(const t of r.values())e.push(this.deepClone(t));return e}if(r instanceof Set){let e=new Set;for(let t of r.values())e.add(this.deepClone(t));return e}if(r instanceof Map){let e=new Map;for(let[t,s]of r.entries())e.set(t,this.deepClone(s));return e}if(l.getExactType(r)===Object){let e={};for(const[t,s]of Object.entries(Object.getOwnPropertyDescriptors(r)))"value"in s?Object.defineProperty(e,t,p(j({},s),{value:this.deepClone(s.value)})):Object.defineProperty(e,t,s);return e}return r},deepUnwrap(r,{isWrap:e=S,unwrap:t=N}={}){const s={isWrap:e,unwrap:t};return e(r)?l.deepUnwrap(t(r),s):r instanceof Array?r.map(n=>l.deepUnwrap(n,s)):l.getExactType(r)===Object?Object.fromEntries(Object.entries(r).map(([n,c])=>[n,l.deepUnwrap(c,s)])):r}},v={deepUnwrapVue3(r){return l.deepUnwrap(r,{isWrap:e=>e==null?void 0:e.__v_isRef,unwrap:e=>e.value})},getPropsFromAttrs(r,e){e instanceof Array?e=Object.fromEntries(e.map(s=>[u.toCamelCase(s),{type:[]}])):l.getExactType(e)===Object?e=Object.fromEntries(Object.entries(e).map(([s,n])=>(n=l.getExactType(n)===Object?p(j({},n),{type:[n.type].flat()}):{type:[n].flat()},[u.toCamelCase(s),n]))):e={};let t={};for(const[s,n]of Object.entries(e))(function c({name:o,definition:a,end:i=!1}){if(o in r){const C=r[o],h=u.toCamelCase(o);t[h]=a.type.length===1&&a.type.includes(Boolean)&&C===""?!0:C;return}i||c({name:u.toLineCase(o),definition:a,end:!0})})({name:s,definition:n});return t},getEmitsFromAttrs(r,e){l.getExactType(e)===Object?e=Object.keys(e):e instanceof Array||(e=[]);const t=e.map(n=>u.toCamelCase(`on-${n}`));let s={};for(const n of t)(function c({name:o,end:a=!1}){if(o.startsWith("onUpdate:")){if(o in r){const i=u.toCamelCase(o);s[i]=r[o];return}if(a)return;c({name:`onUpdate:${u.toLineCase(o.slice(o.indexOf(":")+1))}`,end:!0})}o in r&&(s[o]=r[o])})({name:n});return s},getRestFromAttrs(r,{props:e,emits:t,list:s=[]}={}){e=(()=>(()=>e instanceof Array?e:l.getExactType(e)===Object?Object.keys(e):[])().map(a=>[u.toCamelCase(a),u.toLineCase(a)]).flat())(),t=(()=>(()=>t instanceof Array?t:l.getExactType(t)===Object?Object.keys(t):[])().map(a=>{if(a.startsWith("update:")){const i=a.slice(a.indexOf(":")+1);return[`onUpdate:${u.toCamelCase(i)}`,`onUpdate:${u.toLineCase(i)}`]}return[u.toCamelCase(`on-${a}`)]}).flat())(),s=(()=>(l.getExactType(s)===String?s.split(","):s instanceof Array?s:[]).map(a=>a.trim()).filter(a=>a))();const n=Array.from(new Set([e,t,s].flat()));let c={};for(const[o,a]of Object.entries(Object.getOwnPropertyDescriptors(r)))n.includes(o)||Object.defineProperty(c,o,a);return c}};function b(r,...e){for(const t of e)for(const s in t)r[s]=t[s];return r}class d{constructor(e={}){f(this,"$defaults");const{converter:t={},attributes:s={},json:n=!0}=e,c=p(j({},e),{json:n,attributes:b({},y.attributes,s),converter:b({},y.converter,t)});this.$defaults=c}set(e,t,s,n={}){const c="json"in n?n.json:this.$defaults.json;if(s=b({},this.$defaults.attributes,s),c)try{t=JSON.stringify(t)}catch(o){console.warn(o)}return y.set(e,t,s)}get(e,t={}){const s="json"in t?t.json:this.$defaults.json;let n=y.get(e);if(s)try{n=JSON.parse(n)}catch(c){console.warn(c)}return n}remove(e,t){return t=b({},this.$defaults.attributes,t),y.remove(e,t)}create(e={}){const t=p(j({},e),{attributes:b({},this.$defaults.attributes,e.attributes),converter:b({},this.$defaults.attributes,e.converter)});return new d(t)}}const k=new d({json:!0});class O{constructor(e={}){f(this,"$defaults");f(this,"storage");f(this,"setItem");f(this,"getItem");f(this,"removeItem");f(this,"key");f(this,"clear");const{from:t,json:s=!0}=e,n=p(j({},e),{from:t,json:s});Object.assign(this,{$defaults:n,storage:t,setItem:t.setItem.bind(t),getItem:t.getItem.bind(t),removeItem:t.removeItem.bind(t),key:t.key.bind(t),clear:t.clear.bind(t)})}get length(){return this.storage.length}has(e){return Object.keys(this.storage).includes(e)}set(e,t,s={}){if("json"in s?s.json:this.$defaults.json){if(t===void 0)return;try{t=JSON.stringify(t)}catch(c){console.warn(c)}}return this.storage.setItem(e,t)}get(e,t={}){const s="json"in t?t.json:this.$defaults.json;if(s&&!this.has(e))return;let n=this.storage.getItem(e);if(s)try{n=JSON.parse(n)}catch(c){console.warn(c)}return n}remove(e){return localStorage.removeItem(e)}create(e={}){const t=Object.assign({},this.$defaults,e);return new O(t)}}new O({from:localStorage});new O({from:sessionStorage});export{l as D,v as V,k as c};
