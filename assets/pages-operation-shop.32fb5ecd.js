import{_ as e}from"./AppImage.ce5a3c84.js";import{f as t,m as l,g as s,o,c as a,w as i,b as n,B as r,h as u,i as c,S as d,d as h,C as m,D as p,r as f,E as g,G as b,z as y,H as _,e as w,t as S,k as x,l as k,p as v,I as C,J as I,v as V,q as T,s as $,F as B,K as P,A as z,n as N}from"./entry-chunk-index-2d707ceb-2023-12-08__17_41_38.js";import{_ as L,r as A,b as j,o as D,c as U}from"./u-icon.09170e02.js";import{u as q,_ as F}from"./AppIcon.32925989.js";import{_ as O}from"./u-tag.5d284c38.js";import{_ as M}from"./u-button.85a8a819.js";import{_ as H}from"./AppPopup.vue_vue_type_script_setup_true_name_AppPopup_lang.3f1a9056.js";import{_ as G}from"./u-swiper.1f65675e.js";import{_ as W,a as E}from"./u-radio-group.53722ae1.js";import"./u-transition.39d552e8.js";import"./u-popup.c4273adb.js";const R=L({name:"u-list",mixins:[l,s,{props:{showScrollbar:{type:Boolean,default:t.list.showScrollbar},lowerThreshold:{type:[String,Number],default:t.list.lowerThreshold},upperThreshold:{type:[String,Number],default:t.list.upperThreshold},scrollTop:{type:[String,Number],default:t.list.scrollTop},offsetAccuracy:{type:[String,Number],default:t.list.offsetAccuracy},enableFlex:{type:Boolean,default:t.list.enableFlex},pagingEnabled:{type:Boolean,default:t.list.pagingEnabled},scrollable:{type:Boolean,default:t.list.scrollable},scrollIntoView:{type:String,default:t.list.scrollIntoView},scrollWithAnimation:{type:Boolean,default:t.list.scrollWithAnimation},enableBackToTop:{type:Boolean,default:t.list.enableBackToTop},height:{type:[String,Number],default:t.list.height},width:{type:[String,Number],default:t.list.width},preLoadScreen:{type:[String,Number],default:t.list.preLoadScreen}}}],watch:{scrollIntoView(e){this.scrollIntoViewById(e)}},data:()=>({innerScrollTop:0,offset:0,sys:uni.$u.sys()}),computed:{listStyle(){const e={},t=uni.$u.addUnit;return 0!=this.width&&(e.width=t(this.width)),0!=this.height&&(e.height=t(this.height)),e.height||(e.height=t(this.sys.windowHeight,"px")),uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}},provide(){return{uList:this}},created(){this.refs=[],this.children=[],this.anchors=[]},mounted(){},emits:["scroll","scrolltolower","scrolltoupper"],methods:{updateOffsetFromChild(e){this.offset=e},onScroll(e){let t=0;t=e.detail.scrollTop,this.innerScrollTop=t,this.$emit("scroll",Math.abs(t))},scrollIntoViewById(e){},scrolltolower(e){uni.$u.sleep(30).then((()=>{this.$emit("scrolltolower")}))},scrolltoupper(e){uni.$u.sleep(30).then((()=>{this.$emit("scrolltoupper"),this.offset=0}))}}},[["render",function(e,t,l,s,h,m){const p=c,f=d;return o(),a(f,{class:"u-list","scroll-into-view":e.scrollIntoView,style:u([m.listStyle]),"scroll-y":e.scrollable,"scroll-top":Number(e.scrollTop),"lower-threshold":Number(e.lowerThreshold),"upper-threshold":Number(e.upperThreshold),"show-scrollbar":e.showScrollbar,"enable-back-to-top":e.enableBackToTop,"scroll-with-animation":e.scrollWithAnimation,onScroll:m.onScroll,onScrolltolower:m.scrolltolower,onScrolltoupper:m.scrolltoupper},{default:i((()=>[n(p,null,{default:i((()=>[r(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["scroll-into-view","style","scroll-y","scroll-top","lower-threshold","upper-threshold","show-scrollbar","enable-back-to-top","scroll-with-animation","onScroll","onScrolltolower","onScrolltoupper"])}],["__scopeId","data-v-005e508d"]]),Z=L(h({__name:"AppList",props:{ListProps:{type:Object,default:()=>({})},name:{type:[String,Object],default:"album"}},setup(e){const t=e,l=m(),s=p((()=>q.deepAssign({lowerThreshold:100,scrollable:!0},l,t.ListProps)));return(e,t)=>{const l=A(f("u-list"),R);return o(),a(l,g({class:"AppList-root"},b(s)),{default:i((()=>[r(e.$slots,"default",{},void 0,!0)])),_:3},16)}}}),[["__scopeId","data-v-b57de885"]]);const J=L({name:"u-list-item",mixins:[l,s,{props:{anchor:{type:[String,Number],default:t.listItem.anchor}}}],data:()=>({rect:{},index:0,show:!0,sys:uni.$u.sys()}),computed:{},inject:["uList"],watch:{"uList.innerScrollTop"(e){const t=this.uList.preLoadScreen,l=this.sys.windowHeight;e<=l*t?this.parent.updateOffsetFromChild(0):this.rect.top<=e-l*t&&this.parent.updateOffsetFromChild(this.rect.top)}},created(){this.parent={}},mounted(){this.init()},methods:{init(){this.updateParentData(),this.index=this.parent.children.indexOf(this),this.resize()},updateParentData(){this.getParentData("u-list")},resize(){this.queryRect(`u-list-item-${this.anchor}`).then((e=>{const t=this.parent.children[this.index-1];this.rect=e;const l=this.uList.preLoadScreen,s=this.sys.windowHeight;t&&(this.rect.top=t.rect.top+t.rect.height),e.top>=this.uList.innerScrollTop+(1+l)*s&&(this.show=!1)}))},queryRect(e){return new Promise((t=>{this.$uGetRect(`.${e}`).then((e=>{t(e)}))}))}}},[["render",function(e,t,l,s,n,u){const d=c;return o(),a(d,{class:y(["u-list-item",[`u-list-item-${e.anchor}`]]),ref:`u-list-item-${e.anchor}`,anchor:`u-list-item-${e.anchor}`},{default:i((()=>[r(e.$slots,"default",{},void 0,!0)])),_:3},8,["anchor","class"])}],["__scopeId","data-v-282d85d1"]]);const K=L({name:"u-search",mixins:[l,s,{props:{shape:{type:String,default:t.search.shape},bgColor:{type:String,default:t.search.bgColor},placeholder:{type:String,default:t.search.placeholder},clearabled:{type:Boolean,default:t.search.clearabled},focus:{type:Boolean,default:t.search.focus},showAction:{type:Boolean,default:t.search.showAction},actionStyle:{type:Object,default:t.search.actionStyle},actionText:{type:String,default:t.search.actionText},inputAlign:{type:String,default:t.search.inputAlign},inputStyle:{type:Object,default:t.search.inputStyle},disabled:{type:Boolean,default:t.search.disabled},borderColor:{type:String,default:t.search.borderColor},searchIconColor:{type:String,default:t.search.searchIconColor},color:{type:String,default:t.search.color},placeholderColor:{type:String,default:t.search.placeholderColor},searchIcon:{type:String,default:t.search.searchIcon},searchIconSize:{type:[Number,String],default:t.search.searchIconSize},margin:{type:String,default:t.search.margin},animation:{type:Boolean,default:t.search.animation},modelValue:{type:String,default:t.search.value},value:{type:String,default:t.search.value},maxlength:{type:[String,Number],default:t.search.maxlength},height:{type:[String,Number],default:t.search.height},label:{type:[String,Number,null],default:t.search.label}}}],data(){return{keyword:"",showClear:!1,show:!1,focused:this.focus}},watch:{keyword(e){this.$emit("update:modelValue",e),this.$emit("change",e)},modelValue:{immediate:!0,handler(e){this.keyword=e}}},computed:{showActionBtn(){return!this.animation&&this.showAction}},emits:["clear","search","custom","focus","blur","click","clickIcon","update:modelValue","change"],methods:{inputChange(e){this.keyword=e.detail.value},clear(){this.keyword="",this.$nextTick((()=>{this.$emit("clear")}))},search(e){this.$emit("search",e.detail.value);try{_()}catch(t){}},custom(){this.$emit("custom",this.keyword);try{_()}catch(e){}},getFocus(){this.focused=!0,this.animation&&this.showAction&&(this.show=!0),this.$emit("focus",this.keyword)},blur(){setTimeout((()=>{this.focused=!1}),100),this.show=!1,this.$emit("blur",this.keyword)},clickHandler(){this.disabled&&this.$emit("click")},clickIcon(e){this.$emit("clickIcon",this.keyword);try{_()}catch(t){}}}},[["render",function(e,t,l,s,d,h){const m=v,p=A(f("u-icon"),j),g=c,b=C;return o(),a(g,{class:"u-search",onClick:h.clickHandler,style:u([{margin:e.margin},e.$u.addStyle(e.customStyle)])},{default:i((()=>[n(g,{class:"u-search__content",style:u({backgroundColor:e.bgColor,borderRadius:"round"==e.shape?"100px":"4px",borderColor:e.borderColor})},{default:i((()=>[e.$slots.label||null!==e.label?r(e.$slots,"label",{key:0},(()=>[n(m,{class:"u-search__content__label"},{default:i((()=>[w(S(e.label),1)])),_:1})]),!0):x("v-if",!0),n(g,{class:"u-search__content__icon"},{default:i((()=>[n(p,{onClick:h.clickIcon,size:e.searchIconSize,name:e.searchIcon,color:e.searchIconColor?e.searchIconColor:e.color},null,8,["onClick","size","name","color"])])),_:1}),n(b,{"confirm-type":"search",onBlur:h.blur,value:d.keyword,onConfirm:h.search,onInput:h.inputChange,disabled:e.disabled,onFocus:h.getFocus,focus:e.focus,maxlength:e.maxlength,"placeholder-class":"u-search__content__input--placeholder",placeholder:e.placeholder,"placeholder-style":`color: ${e.placeholderColor}`,class:"u-search__content__input",type:"text",style:u([{textAlign:e.inputAlign,color:e.color,backgroundColor:e.bgColor,height:e.$u.addUnit(e.height)},e.inputStyle])},null,8,["onBlur","value","onConfirm","onInput","disabled","onFocus","focus","maxlength","placeholder","placeholder-style","style"]),d.keyword&&e.clearabled&&d.focused?(o(),a(g,{key:1,class:"u-search__content__icon u-search__content__close",onClick:h.clear},{default:i((()=>[n(p,{name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"})])),_:1},8,["onClick"])):x("v-if",!0)])),_:3},8,["style"]),n(m,{style:u([e.actionStyle]),class:y(["u-search__action",[(h.showActionBtn||d.show)&&"u-search__action--active"]]),onClick:k(h.custom,["stop","prevent"])},{default:i((()=>[w(S(e.actionText),1)])),_:1},8,["style","class","onClick"])])),_:3},8,["onClick","style"])}],["__scopeId","data-v-51d88a36"]]);const Q=L({name:"u-number-box",mixins:[l,s,{props:{name:{type:[String,Number],default:t.numberBox.name},modelValue:{type:[String,Number],default:t.numberBox.value},min:{type:[String,Number],default:t.numberBox.min},max:{type:[String,Number],default:t.numberBox.max},step:{type:[String,Number],default:t.numberBox.step},integer:{type:Boolean,default:t.numberBox.integer},disabled:{type:Boolean,default:t.numberBox.disabled},disabledInput:{type:Boolean,default:t.numberBox.disabledInput},asyncChange:{type:Boolean,default:t.numberBox.asyncChange},inputWidth:{type:[String,Number],default:t.numberBox.inputWidth},showMinus:{type:Boolean,default:t.numberBox.showMinus},showPlus:{type:Boolean,default:t.numberBox.showPlus},decimalLength:{type:[String,Number,null],default:t.numberBox.decimalLength},longPress:{type:Boolean,default:t.numberBox.longPress},color:{type:String,default:t.numberBox.color},buttonSize:{type:[String,Number],default:t.numberBox.buttonSize},bgColor:{type:String,default:t.numberBox.bgColor},cursorSpacing:{type:[String,Number],default:t.numberBox.cursorSpacing},disablePlus:{type:Boolean,default:t.numberBox.disablePlus},disableMinus:{type:Boolean,default:t.numberBox.disableMinus},iconStyle:{type:[Object,String],default:t.numberBox.iconStyle}}}],data:()=>({currentValue:"",longPressTimer:null}),watch:{watchChange(e){this.check()},modelValue(e){e!==this.currentValue&&(this.currentValue=this.format(this.modelValue))}},computed:{getCursorSpacing(){return uni.$u.getPx(this.cursorSpacing)},buttonStyle(){return e=>{const t={backgroundColor:this.bgColor,height:uni.$u.addUnit(this.buttonSize),color:this.color};return this.isDisabled(e)&&(t.backgroundColor="#f7f8fa"),t}},inputStyle(){this.disabled||this.disabledInput;return{color:this.color,backgroundColor:this.bgColor,height:uni.$u.addUnit(this.buttonSize),width:uni.$u.addUnit(this.inputWidth)}},watchChange(){return[this.integer,this.decimalLength,this.min,this.max]},isDisabled(){return e=>"plus"===e?this.disabled||this.disablePlus||this.currentValue>=this.max:this.disabled||this.disableMinus||this.currentValue<=this.min}},mounted(){this.init()},emits:["update:modelValue","focus","blur","overlimit","change","plus","minus"],methods:{init(){this.currentValue=this.format(this.modelValue)},format(e){return e=""===(e=this.filter(e))?0:+e,e=Math.max(Math.min(this.max,e),this.min),null!==this.decimalLength&&(e=e.toFixed(this.decimalLength)),e},filter(e){return e=String(e).replace(/[^0-9.-]/g,""),this.integer&&-1!==e.indexOf(".")&&(e=e.split(".")[0]),e},check(){const e=this.format(this.currentValue);e!==this.currentValue&&(this.currentValue=e)},onFocus(e){this.$emit("focus",{...e.detail,name:this.name})},onBlur(e){this.format(e.detail.value),this.$emit("blur",{...e.detail,name:this.name})},onInput(e){const{value:t=""}=e.detail||{};if(""===t)return;let l=this.filter(t);if(null!==this.decimalLength&&-1!==l.indexOf(".")){const e=l.split(".");l=`${e[0]}.${e[1].slice(0,this.decimalLength)}`}l=this.format(l),this.emitChange(l)},emitChange(e){this.asyncChange||this.$nextTick((()=>{this.$emit("update:modelValue",e),this.currentValue=e,this.$forceUpdate()})),this.$emit("change",{value:e,name:this.name})},onChange(){const{type:e}=this;if(this.isDisabled(e))return this.$emit("overlimit",e);const t="minus"===e?-this.step:+this.step,l=this.format(this.add(+this.currentValue,t));this.emitChange(l),this.$emit(e)},add(e,t){const l=Math.pow(10,10);return Math.round((e+t)*l)/l},clickHandler(e){this.type=e,this.onChange()},longPressStep(){this.clearTimeout(),this.longPressTimer=setTimeout((()=>{this.onChange(),this.longPressStep()}),250)},onTouchStart(e){this.longPress&&(this.clearTimeout(),this.type=e,this.longPressTimer=setTimeout((()=>{this.onChange(),this.longPressStep()}),600))},onTouchEnd(){this.longPress&&this.clearTimeout()},clearTimeout(){clearTimeout(this.longPressTimer),this.longPressTimer=null}}},[["render",function(e,t,l,s,d,h){const m=c,p=A(f("u-icon"),j),g=C;return o(),a(m,{class:"u-number-box"},{default:i((()=>[e.showMinus&&e.$slots.minus?(o(),a(m,{key:0,class:"u-number-box__slot",onClick:t[0]||(t[0]=k((e=>h.clickHandler("minus")),["stop"])),onTouchstart:t[1]||(t[1]=e=>h.onTouchStart("minus")),onTouchend:k(h.clearTimeout,["stop"])},{default:i((()=>[r(e.$slots,"minus",{},void 0,!0)])),_:3},8,["onTouchend"])):e.showMinus?(o(),a(m,{key:1,class:y(["u-number-box__minus",{"u-number-box__minus--disabled":h.isDisabled("minus")}]),onClick:t[2]||(t[2]=k((e=>h.clickHandler("minus")),["stop"])),onTouchstart:t[3]||(t[3]=e=>h.onTouchStart("minus")),onTouchend:k(h.clearTimeout,["stop"]),"hover-class":"u-number-box__minus--hover","hover-stay-time":"150",style:u([h.buttonStyle("minus")])},{default:i((()=>[n(p,{name:"minus",color:h.isDisabled("minus")?"#c8c9cc":"#323233",size:"15",bold:"",customStyle:e.iconStyle},null,8,["color","customStyle"])])),_:1},8,["onTouchend","class","style"])):x("v-if",!0),r(e.$slots,"input",{},(()=>[n(g,{disabled:e.disabledInput||e.disabled,"cursor-spacing":h.getCursorSpacing,class:y([{"u-number-box__input--disabled":e.disabled||e.disabledInput},"u-number-box__input"]),modelValue:d.currentValue,"onUpdate:modelValue":t[4]||(t[4]=e=>d.currentValue=e),onBlur:h.onBlur,onFocus:h.onFocus,onInput:h.onInput,type:"number",style:u([h.inputStyle])},null,8,["disabled","cursor-spacing","class","modelValue","onBlur","onFocus","onInput","style"])]),!0),e.showPlus&&e.$slots.plus?(o(),a(m,{key:2,class:"u-number-box__slot",onClick:t[5]||(t[5]=k((e=>h.clickHandler("plus")),["stop"])),onTouchstart:t[6]||(t[6]=e=>h.onTouchStart("plus")),onTouchend:k(h.clearTimeout,["stop"])},{default:i((()=>[r(e.$slots,"plus",{},void 0,!0)])),_:3},8,["onTouchend"])):e.showPlus?(o(),a(m,{key:3,class:y(["u-number-box__plus",{"u-number-box__minus--disabled":h.isDisabled("plus")}]),onClick:t[7]||(t[7]=k((e=>h.clickHandler("plus")),["stop"])),onTouchstart:t[8]||(t[8]=e=>h.onTouchStart("plus")),onTouchend:k(h.clearTimeout,["stop"]),"hover-class":"u-number-box__plus--hover","hover-stay-time":"150",style:u([h.buttonStyle("plus")])},{default:i((()=>[n(p,{name:"plus",color:h.isDisabled("plus")?"#c8c9cc":"#323233",size:"15",bold:"",customStyle:e.iconStyle},null,8,["color","customStyle"])])),_:1},8,["onTouchend","class","style"])):x("v-if",!0)])),_:3})}],["__scopeId","data-v-8edd680e"]]);const X=L({name:"u-badge",mixins:[l,{props:{isDot:{type:Boolean,default:t.badge.isDot},value:{type:[Number,String],default:t.badge.value},modelValue:{type:[Number,String],default:t.badge.modelValue},show:{type:Boolean,default:t.badge.show},max:{type:[Number,String],default:t.badge.max},type:{type:String,default:t.badge.type},showZero:{type:Boolean,default:t.badge.showZero},bgColor:{type:[String,null],default:t.badge.bgColor},color:{type:[String,null],default:t.badge.color},shape:{type:String,default:t.badge.shape},numberType:{type:String,default:t.badge.numberType},offset:{type:Array,default:t.badge.offset},inverted:{type:Boolean,default:t.badge.inverted},absolute:{type:Boolean,default:t.badge.absolute}}},s],computed:{boxStyle:()=>({}),badgeStyle(){const e={};if(this.color&&(e.color=this.color),this.bgColor&&!this.inverted&&(e.backgroundColor=this.bgColor),this.absolute&&(e.position="absolute",this.offset.length)){const t=this.offset[0],l=this.offset[1]||t;e.top=uni.$u.addUnit(t),e.right=uni.$u.addUnit(l)}return e},showValue(){switch(this.numberType){case"overflow":return Number(this.value)>Number(this.max)?this.max+"+":this.value;case"ellipsis":return Number(this.value)>Number(this.max)?"...":this.value;case"limit":return Number(this.value)>999?Number(this.value)>=9999?Math.floor(this.value/1e4*100)/100+"w":Math.floor(this.value/1e3*100)/100+"k":this.value;default:return Number(this.value)}}}},[["render",function(e,t,l,s,n,r){const c=v;return e.show&&(0!==Number(e.value)||e.showZero||e.isDot)?(o(),a(c,{key:0,class:y([[e.isDot?"u-badge--dot":"u-badge--not-dot",e.inverted&&"u-badge--inverted","horn"===e.shape&&"u-badge--horn",`u-badge--${e.type}${e.inverted?"--inverted":""}`],"u-badge"]),style:u([e.$u.addStyle(e.customStyle),r.badgeStyle])},{default:i((()=>[w(S(e.isDot?"":r.showValue),1)])),_:1},8,["class","style"])):x("v-if",!0)}],["__scopeId","data-v-4bfc5693"]]),Y=L(h({__name:"skuPopup",props:{modelValue:{type:Boolean,default:!1},selectedItem:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:t}){const l=e,s=p({get:()=>null==l?void 0:l.modelValue,set(e){t("update:modelValue",e)}});I(s,(e=>{e&&r.getDetail()}));const r=V({posterList:[{id:"1001",image:"https://img.zcool.cn/community/031dqar6rdpqwww25hrpitl3234.png"},{id:"1002",image:"https://img.zcool.cn/community/031yjp7ugtq23h9vrbzqdf93031.png"}],skuList:[{id:"101",name:"杯型",skuActive:"大杯",list:["大杯","中杯"]},{id:"102",name:"温度",skuActive:"冰",list:["冰","热"]}],detail:{},getDetail(){console.log("selectedItem",l),this.detail=l.selectedItem}});return(e,t)=>{const l=A(f("u-swiper"),G),u=c,d=v,h=A(f("u-number-box"),Q),m=A(f("u-radio"),W),p=A(f("u-radio-group"),E),g=A(f("u-tag"),O),_=A(f("up-button"),M),x=H;return o(),a(x,{modelValue:b(s),"onUpdate:modelValue":t[1]||(t[1]=e=>P(s)?s.value=e:null),class:"SkuPopup-root",onOnClose:t[2]||(t[2]=e=>{s.value=!1})},{default:i((()=>[n(u,{class:"container"},{default:i((()=>[n(u,{class:"poster"},{default:i((()=>[n(l,{list:r.posterList,keyName:"image",autoplay:!1,height:"400",circular:""},null,8,["list"])])),_:1}),n(u,{class:"content"},{default:i((()=>[n(u,{class:"thead"},{default:i((()=>[n(d,{class:"th"},{default:i((()=>[w("马斯卡彭生酪拿铁")])),_:1}),n(u,{class:"count"},{default:i((()=>[n(h,{min:1,max:999},{minus:i((()=>[n(u,{class:"ico ico-reduce"})])),input:i((()=>[n(d,{class:"num"},{default:i((()=>[w("1")])),_:1})])),plus:i((()=>[n(u,{class:"ico ico-add"})])),_:1})])),_:1})])),_:1}),n(u,{class:"info"},{default:i((()=>[n(u,{class:"sku-list"},{default:i((()=>[(o(!0),T(B,null,$(r.skuList,(e=>(o(),a(u,{class:"item",key:e.id},{default:i((()=>[n(d,{class:"th"},{default:i((()=>[w(S(e.name),1)])),_:2},1024),n(p,{modelValue:e.skuActive,"onUpdate:modelValue":t=>e.skuActive=t,placement:"row",activeColor:"#5673F7"},{default:i((()=>[(o(!0),T(B,null,$(e.list,((t,l)=>(o(),a(m,{class:y({active:t==e.skuActive}),key:l,label:t,name:t},null,8,["class","label","name"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1024)))),128))])),_:1})])),_:1}),n(u,{class:"footer"},{default:i((()=>[n(u,{class:"footer-in"},{default:i((()=>[n(u,{class:"total"},{default:i((()=>[n(u,{class:"cost"},{default:i((()=>[n(u,{class:"charge"},{default:i((()=>[n(u,{class:"price"},{default:i((()=>[n(u,{class:"unit"},{default:i((()=>[w("￥")])),_:1}),w("100")])),_:1}),n(u,{class:"origin-price"},{default:i((()=>[w("￥200")])),_:1}),n(g,{class:"spare",text:"已省100元",plain:""})])),_:1}),n(u,{class:"txt"},{default:i((()=>[w("无需加糖/热")])),_:1})])),_:1})])),_:1}),n(_,{class:"btn",text:"加入购物车",onClick:t[0]||(t[0]=e=>s.value=!1)})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-32805298"]]),ee=L(h({__name:"carPopup",props:{modelValue:{type:Boolean,default:!1},brandId:{type:[Number,String],default:""},selectedItem:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(t,{emit:l}){const s=t,r=p({get:()=>null==s?void 0:s.modelValue,set(e){l("update:modelValue",e)}});I(r,(e=>{e&&u.getDetail()}));const u=V({carList:[{id:"1001",name:"商品名称A",img:"https://img.zcool.cn/community/031dlogybjtkq1sxvqre78z3730.jpeg",num:1,skuList:["少冰","少糖"],price:"9.9"},{id:"1002",name:"商品名称B",img:"https://img.zcool.cn/community/018b88656daa3c0002c440eb3b035a.jpg",num:1,skuList:["多冰","正常糖"],price:"15.8"}],detail:{},getDetail(){console.log("selectedItem",s),this.detail=s.selectedItem},changeCount(e,t){console.log(e,t)}});return(t,l)=>{const h=v,m=c,p=F,g=e,_=A(f("u-number-box"),Q),k=d,C=H;return o(),a(C,{modelValue:b(r),"onUpdate:modelValue":l[0]||(l[0]=e=>P(r)?r.value=e:null),class:"CarPopup-root",onOnClose:l[1]||(l[1]=e=>{r.value=!1}),round:"12",zIndex:"10071"},{default:i((()=>[n(m,{class:"container"},{default:i((()=>[n(m,{class:"thead"},{default:i((()=>[n(m,{class:"th"},{default:i((()=>[w("已选购商品"),n(h,{class:"num"},{default:i((()=>[w("("+S(2)+"件)")])),_:1})])),_:1}),n(m,{class:"clear-bth"},{default:i((()=>[n(p,{iconProps:{name:"trash"}}),w("清空购物车")])),_:1})])),_:1}),n(m,{class:"content"},{default:i((()=>[n(k,{"scroll-y":!0,"enable-flex":!0,class:"scroll-main"},{default:i((()=>[(o(!0),T(B,null,$(u.carList,(e=>(o(),a(m,{class:"item",key:e.id},{default:i((()=>[n(m,{class:"info"},{default:i((()=>[n(m,{class:"pic"},{default:i((()=>[n(g,{src:e.img,width:"100",height:"100"},null,8,["src"])])),_:2},1024),n(m,{class:"txt"},{default:i((()=>[n(m,{class:"th"},{default:i((()=>[w(S(e.name),1)])),_:2},1024),2==s.brandId?(o(),a(m,{key:0,class:"sku-list"},{default:i((()=>[(o(!0),T(B,null,$(e.skuList,((t,l)=>(o(),a(m,{class:"ti",key:l},{default:i((()=>[w(S(t),1),l<e.skuList.length-1?(o(),a(h,{key:0,class:"dou"},{default:i((()=>[w(",")])),_:1})):x("v-if",!0)])),_:2},1024)))),128))])),_:2},1024)):x("v-if",!0),n(m,{class:"price"},{default:i((()=>[n(h,{class:"unit"},{default:i((()=>[w("￥")])),_:1}),w(S(e.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),n(m,{class:"count"},{default:i((()=>[n(_,{modelValue:e.num,"onUpdate:modelValue":t=>e.num=t,min:0,max:999,onChange:t=>u.changeCount(t,e)},{minus:i((()=>[n(m,{class:"ico ico-reduce"})])),input:i((()=>[n(h,{class:"num"},{default:i((()=>[w(S(e.num||0),1)])),_:2},1024)])),plus:i((()=>[n(m,{class:y(["ico ico-add",`brandId-${s.brandId}`])},null,8,["class"])])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-655f31ad"]]),te=L(h({__name:"shop",setup(t){D(((e={})=>{const{brandId:t,way:s}=e;l.brandId=t,l.way=s,l.setTitle()})),U((()=>{l.show=!1,l.show2=!1}));const l=V({brandId:"1",way:"1",setTitle(){z({title:""+("1"==this.way?"到店取餐":"外卖配送")})},gotoPath(e){N({url:e})},show:!1,show2:!1,selectedGoodsList:[],showCadPopup(){this.show2=!0}}),s=V({list:[{id:1,name:"限时特惠"},{id:2,name:"超值套餐"},{id:3,name:"爆款套餐"}],active:1,choose(e){this.active=e.id}}),r=V({keyword:"",search(){},list:[{id:1,name:"麦辣鸡腿堡四件套",img:"https://img.zcool.cn/community/031gcuh2f7vycnylnhwev8x3832.png?x-oss-process=image/resize,m_fill,w_520,h_390,limit_1/auto-orient,1/sharpen,100/quality,q_80/format,webp",originPrice:"11.00",price:"9.00",spare:"2.00",num:0},{id:2,name:"蛋挞王",img:"https://img.zcool.cn/community/031sapelxd79lbk1qvbyllj3236.png",originPrice:"50.00",price:"36.00",spare:"14.00",num:0},{id:3,name:"烤鸡",img:"https://img.zcool.cn/community/0314dmmvzy6anxz7dabg4mp3539.png?x-oss-process=image/resize,m_fill,w_520,h_390,limit_1/auto-orient,1/sharpen,100/quality,q_80/format,webp",originPrice:"99.00",price:"55.00",spare:"44.00",num:0},{id:4,name:"培根鸡腿堡",img:"https://img.zcool.cn/community/0316utbfhvcjkcgpqkcv1ix3133.png",originPrice:"99.00",price:"55.00",spare:"44.00",num:0},{id:5,name:"麦辣鸡翅",img:"https://img.zcool.cn/community/031ux6jwn96363szd8x6qiy3832.png",originPrice:"99.00",price:"55.00",spare:"44.00",num:0},{id:6,name:"麦乐鸡",img:"https://img.zcool.cn/community/031b9vgqkbyrtsefghxfpea3638.png",originPrice:"99.00",price:"55.00",spare:"44.00",num:0},{id:7,name:"麦辣鸡翅",img:"https://img.zcool.cn/community/031l86envdlelohmp3o7p3s3536.jpeg",originPrice:"99.00",price:"55.00",spare:"44.00",num:0},{id:8,name:"麦乐鸡",img:"https://img.zcool.cn/community/031snffg7ni3bulvtptkw3v3537.png",originPrice:"99.00",price:"55.00",spare:"44.00",num:0},{id:9,name:"麦辣鸡翅",img:"https://img.zcool.cn/community/031wffmznayp1ydjnhiozga3337.png",originPrice:"99.00",price:"55.00",spare:"44.00",num:0},{id:10,name:"麦乐鸡",img:"https://img.zcool.cn/community/031ngnxyyr6dsqujeq8eskt3835.png",originPrice:"99.00",price:"55.00",spare:"44.00",num:0}],changeCount(e,t){t.num=e.value,console.log("ttt",t)},selectedItem:{},select(e){r.selectedItem=e,console.log(r.selectedItem),l.show=!0},scrollTop:0,scroll(e){console.log(e),r.scrollTop=e},scrolltolower(){console.log("scrolltolower")}});return(t,u)=>{const d=c,h=v,m=F,p=A(f("u-list-item"),J),g=Z,b=A(f("u-search"),K),_=e,k=A(f("u-tag"),O),C=A(f("u-number-box"),Q),I=A(f("up-badge"),X),V=A(f("up-button"),M);return o(),a(d,{class:y(["App-root OperationShop-root",`brandId-${l.brandId} way-${l.way}`])},{default:i((()=>[n(d,{class:"root-in"},{default:i((()=>[1==l.way?(o(),a(d,{key:0,class:"arrive-container",onClick:u[0]||(u[0]=e=>l.gotoPath(`/pages/address/shopAddress?brandId=${l.brandId}&way=${l.way}`))},{default:i((()=>[n(d,{class:"title"},{default:i((()=>[n(d,{class:"ico"}),n(h,{class:"ti"},{default:i((()=>[w("xx餐厅")])),_:1}),n(m,{iconProps:{name:"arrow-right"}})])),_:1}),n(d,{class:"desc"},{default:i((()=>[w("xxxxxxxxx欢乐里大楼首层")])),_:1})])),_:1})):x("v-if",!0),n(d,{class:"main-container"},{default:i((()=>[n(d,{class:"left-container"},{default:i((()=>[n(g,{class:"list"},{default:i((()=>[(o(!0),T(B,null,$(s.list,(e=>(o(),a(p,{class:y(["item",{active:e.id==s.active}]),key:e.id,onClick:t=>s.choose(e)},{default:i((()=>[n(h,{class:"ti"},{default:i((()=>[w(S(e.name),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),n(d,{class:"right-container"},{default:i((()=>[n(d,{class:"search-con"},{default:i((()=>[n(b,{placeholder:"请输入商品关键词",height:"72",clearable:"",searchIconSize:"40",modelValue:r.keyword,"onUpdate:modelValue":u[1]||(u[1]=e=>r.keyword=e),onChange:u[2]||(u[2]=e=>r.search())},null,8,["modelValue"])])),_:1}),n(d,{class:"content"},{default:i((()=>[n(g,{class:"list",onScroll:u[3]||(u[3]=e=>r.scroll(e)),onScrolltolower:u[4]||(u[4]=e=>r.scrolltolower())},{default:i((()=>[(o(!0),T(B,null,$(r.list,((e,t)=>(o(),a(p,{class:"item",key:e.id},{default:i((()=>[n(d,{class:"pic"},{default:i((()=>[n(_,{src:e.img,width:"160",height:"160"},null,8,["src"])])),_:2},1024),n(d,{class:"txt"},{default:i((()=>[n(d,{class:"th"},{default:i((()=>[w(S(e.name),1)])),_:2},1024),n(d,{class:"cost"},{default:i((()=>[n(k,{class:"spare",text:`已省${e.spare}元`,plain:""},null,8,["text"]),n(d,{class:"charge"},{default:i((()=>[n(d,{class:"price"},{default:i((()=>[n(d,{class:"unit"},{default:i((()=>[w("￥")])),_:1}),w(S(e.price),1)])),_:2},1024),n(d,{class:"origin-price"},{default:i((()=>[w("￥"+S(e.originPrice),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),1==l.brandId?(o(),a(d,{key:0,class:"count"},{default:i((()=>[n(C,{modelValue:e.num,"onUpdate:modelValue":t=>e.num=t,min:0,max:999,onChange:t=>r.changeCount(t,e)},{minus:i((()=>[n(d,{class:"ico ico-reduce"})])),input:i((()=>[n(h,{class:"num"},{default:i((()=>[w(S(e.num||0),1)])),_:2},1024)])),plus:i((()=>[n(d,{class:"ico ico-add"})])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])),_:2},1024)):2==l.brandId?(o(),a(d,{key:1,class:"select-btn",onClick:t=>r.select(e)},{default:i((()=>[w("选规格")])),_:2},1032,["onClick"])):x("v-if",!0)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),n(d,{class:"footer"},{default:i((()=>[n(d,{class:"footer-in"},{default:i((()=>[n(d,{class:"total"},{default:i((()=>[n(d,{class:"ico",onClick:u[5]||(u[5]=e=>l.showCadPopup())},{default:i((()=>[n(I,{class:"num",type:"error",max:"99",value:"2",shape:"circle"})])),_:1}),n(d,{class:"cost"},{default:i((()=>[n(d,{class:"charge"},{default:i((()=>[n(d,{class:"price"},{default:i((()=>[n(d,{class:"unit"},{default:i((()=>[w("￥")])),_:1}),w("100.00")])),_:1}),n(d,{class:"origin-price"},{default:i((()=>[w("￥200.00")])),_:1})])),_:1}),n(k,{class:"spare",text:"已省100.00元",plain:""},null,8,["text"])])),_:1})])),_:1}),n(V,{class:"btn",text:"去结算",onClick:u[6]||(u[6]=e=>l.gotoPath(`/pages/operation/confirm?brandId=${l.brandId}&way=${l.way}`))})])),_:1})])),_:1}),x(" sku弹窗 "),n(Y,{modelValue:l.show,"onUpdate:modelValue":u[7]||(u[7]=e=>l.show=e),selectedItem:r.selectedItem},null,8,["modelValue","selectedItem"]),x(" 购物车弹窗 "),n(ee,{modelValue:l.show2,"onUpdate:modelValue":u[8]||(u[8]=e=>l.show2=e),brandId:l.brandId,selectedGoodsList:l.selectedGoodsList},null,8,["modelValue","brandId","selectedGoodsList"])])),_:1},8,["class"])}}}),[["__scopeId","data-v-3bc34cd8"]]);export{te as default};
