import{_ as e}from"./AppIcon.32925989.js";import{f as a,m as t,g as l,o as s,c as o,w as n,b as r,h as i,e as d,t as c,k as u,z as h,N as f,p as m,i as p,d as g,v as y,q as b,s as _,F as x,n as C,O as S,r as k}from"./entry-chunk-index-2d707ceb-2023-12-08__17_41_38.js";import{_ as v,o as $,r as I}from"./u-icon.09170e02.js";import{_ as P}from"./u-tag.5d284c38.js";import{_ as w}from"./u-button.85a8a819.js";import"./u-transition.39d552e8.js";const B=v({name:"u-textarea",mixins:[t,l,{props:{value:{type:[String,Number],default:a.textarea.value},modelValue:{type:[String,Number],default:a.textarea.value},placeholder:{type:[String,Number],default:a.textarea.placeholder},placeholderClass:{type:String,default:a.input.placeholderClass},placeholderStyle:{type:[String,Object],default:a.input.placeholderStyle},height:{type:[String,Number],default:a.textarea.height},confirmType:{type:String,default:a.textarea.confirmType},disabled:{type:Boolean,default:a.textarea.disabled},count:{type:Boolean,default:a.textarea.count},focus:{type:Boolean,default:a.textarea.focus},autoHeight:{type:Boolean,default:a.textarea.autoHeight},fixed:{type:Boolean,default:a.textarea.fixed},cursorSpacing:{type:Number,default:a.textarea.cursorSpacing},cursor:{type:[String,Number],default:a.textarea.cursor},showConfirmBar:{type:Boolean,default:a.textarea.showConfirmBar},selectionStart:{type:Number,default:a.textarea.selectionStart},selectionEnd:{type:Number,default:a.textarea.selectionEnd},adjustPosition:{type:Boolean,default:a.textarea.adjustPosition},disableDefaultPadding:{type:Boolean,default:a.textarea.disableDefaultPadding},holdKeyboard:{type:Boolean,default:a.textarea.holdKeyboard},maxlength:{type:[String,Number],default:a.textarea.maxlength},border:{type:String,default:a.textarea.border},formatter:{type:[Function,null],default:a.textarea.formatter},ignoreCompositionEvent:{type:Boolean,default:!0}}}],data:()=>({innerValue:"",focused:!1,firstChange:!0,changeFromInner:!1,innerFormatter:e=>e}),created(){},watch:{modelValue:{immediate:!0,handler(e,a){this.innerValue=e,!1===this.firstChange&&!1===this.changeFromInner&&this.valueChange(),this.firstChange=!1,this.changeFromInner=!1}}},computed:{textareaClass(){let e=[],{border:a,disabled:t}=this;return"surround"===a&&(e=e.concat(["u-border","u-textarea--radius"])),"bottom"===a&&(e=e.concat(["u-border-bottom","u-textarea--no-radius"])),t&&e.push("u-textarea--disabled"),e.join(" ")},textareaStyle(){return uni.$u.deepMerge({},uni.$u.addStyle(this.customStyle))}},emits:["update:modelValue","linechange","focus","blur","change","confirm","keyboardheightchange"],methods:{setFormatter(e){this.innerFormatter=e},onFocus(e){this.$emit("focus",e)},onBlur(e){this.$emit("blur",e),uni.$u.formValidate(this,"blur")},onLinechange(e){this.$emit("linechange",e)},onInput(e){let{value:a=""}=e.detail||{};const t=(this.formatter||this.innerFormatter)(a);this.innerValue=a,this.$nextTick((()=>{this.innerValue=t,this.valueChange()}))},valueChange(){const e=this.innerValue;this.$nextTick((()=>{this.$emit("update:modelValue",e),this.changeFromInner=!0,this.$emit("change",e),uni.$u.formValidate(this,"change")}))},onConfirm(e){this.$emit("confirm",e)},onKeyboardheightchange(e){this.$emit("keyboardheightchange",e)}}},[["render",function(e,a,t,l,g,y){const b=f,_=m,x=p;return s(),o(x,{class:h(["u-textarea",y.textareaClass]),style:i([y.textareaStyle])},{default:n((()=>[r(b,{class:"u-textarea__field",value:g.innerValue,style:i({height:e.$u.addUnit(e.height)}),placeholder:e.placeholder,"placeholder-style":e.$u.addStyle(e.placeholderStyle,"string"),"placeholder-class":e.placeholderClass,disabled:e.disabled,focus:e.focus,autoHeight:e.autoHeight,fixed:e.fixed,cursorSpacing:e.cursorSpacing,cursor:e.cursor,showConfirmBar:e.showConfirmBar,selectionStart:e.selectionStart,selectionEnd:e.selectionEnd,adjustPosition:e.adjustPosition,disableDefaultPadding:e.disableDefaultPadding,holdKeyboard:e.holdKeyboard,maxlength:e.maxlength,"confirm-type":e.confirmType,ignoreCompositionEvent:e.ignoreCompositionEvent,onFocus:y.onFocus,onBlur:y.onBlur,onLinechange:y.onLinechange,onInput:y.onInput,onConfirm:y.onConfirm,onKeyboardheightchange:y.onKeyboardheightchange},null,8,["value","style","placeholder","placeholder-style","placeholder-class","disabled","focus","autoHeight","fixed","cursorSpacing","cursor","showConfirmBar","selectionStart","selectionEnd","adjustPosition","disableDefaultPadding","holdKeyboard","maxlength","confirm-type","ignoreCompositionEvent","onFocus","onBlur","onLinechange","onInput","onConfirm","onKeyboardheightchange"]),e.count?(s(),o(_,{key:0,class:"u-textarea__count",style:i({"background-color":e.disabled?"transparent":"#fff"})},{default:n((()=>[d(c(g.innerValue.length)+"/"+c(e.maxlength),1)])),_:1},8,["style"])):u("v-if",!0)])),_:1},8,["class","style"])}],["__scopeId","data-v-9e8ecbd1"]]),V=v(g({__name:"confirm",setup(a){$(((e={})=>{const{brandId:a,way:l}=e;t.brandId=a,t.way=l}));const t=y({brandId:"1",way:"1",gotoPath(e){C({url:e})},mealActive:"1",takeMealList:[{id:"1",name:"店内就餐"},{id:"2",name:"打包带走"}],mealChoose(e){this.mealActive=e.id},list:[{id:1,name:"炸鸡",num:1,price:"44.8"},{id:2,name:"汉堡",num:2,price:"20.8"},{id:3,name:"蛋挞",num:3,price:"29.8"}],remark:"",callPhone(){S({phoneNumber:"12345678910"})}});return(a,l)=>{const i=p,u=m,f=e,g=I(k("u-textarea"),B),y=I(k("u-tag"),P),C=I(k("up-button"),w);return s(),o(i,{class:h(["App-root OperationConfirm-root",`brandId-${t.brandId}`])},{default:n((()=>[r(i,{class:"root-in"},{default:n((()=>[1==t.way?(s(),o(i,{key:0,class:"arrive-container"},{default:n((()=>[r(i,{onClick:l[0]||(l[0]=e=>t.gotoPath(`/pages/address/shopAddress?brandId=${t.brandId}&way=${t.way}`))},{default:n((()=>[r(i,{class:"title"},{default:n((()=>[r(i,{class:"ico"}),r(u,{class:"ti"},{default:n((()=>[d("餐厅A")])),_:1}),r(f,{iconProps:{name:"arrow-right"}})])),_:1}),r(i,{class:"desc"},{default:n((()=>[d("餐厅地址123456")])),_:1})])),_:1}),r(i,{class:"arrive-info"},{default:n((()=>[(s(!0),b(x,null,_(t.takeMealList,(e=>(s(),o(i,{class:h(["mol",{active:e.id==t.mealActive}]),key:e.id,onClick:a=>t.mealChoose(e)},{default:n((()=>[r(i,{class:h(["ico",`ico-${e.id}`])},null,8,["class"]),r(u,{class:"ti"},{default:n((()=>[d(c(e.name),1)])),_:2},1024),r(f,{class:"che-ico",iconProps:{name:"checkmark-circle-fill"}})])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})):(s(),o(i,{key:1,class:"address-container"},{default:n((()=>[r(i,{class:"thead",onClick:l[1]||(l[1]=e=>t.gotoPath(`/pages/address/index?brandId=${t.brandId}&way=${t.way}`))},{default:n((()=>[r(u,{class:"th"},{default:n((()=>[d("请选择收货地址")])),_:1}),r(f,{class:"ico",iconProps:{name:"arrow-right"},size:"28"})])),_:1}),r(i,{class:"bot"},{default:n((()=>[r(u,{class:"ti"},{default:n((()=>[d("立即送出")])),_:1}),r(u,{class:"time"},{default:n((()=>[d("大约21:19送达")])),_:1}),r(f,{class:"ico",iconProps:{name:"arrow-right"},size:"28"})])),_:1})])),_:1})),r(i,{class:"goods-container"},{default:n((()=>[r(i,{class:"thead"},{default:n((()=>[r(i,{class:"ico"}),r(u,null,{default:n((()=>[d("餐品详情")])),_:1})])),_:1}),r(i,{class:"list"},{default:n((()=>[(s(!0),b(x,null,_(t.list,(e=>(s(),o(i,{class:"item",key:e.id},{default:n((()=>[r(u,{class:"ti"},{default:n((()=>[d(c(e.name),1)])),_:2},1024),r(i,{class:"calc"},{default:n((()=>[r(u,{class:"num"},{default:n((()=>[d("x"+c(e.num||0),1)])),_:2},1024),r(u,{class:"price"},{default:n((()=>[d("¥"+c(e.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),r(i,{class:"bot"},{default:n((()=>[r(u,null,{default:n((()=>[d("总计")])),_:1}),r(i,null,{default:n((()=>[r(u,{class:"spare"},{default:n((()=>[d("共省6.30")])),_:1}),r(u,{class:"price"},{default:n((()=>[r(u,{class:"unit"},{default:n((()=>[d("¥")])),_:1}),d("26.7")])),_:1})])),_:1})])),_:1})])),_:1}),r(i,{class:"remark-container"},{default:n((()=>[r(i,{class:"thead"},{default:n((()=>[d("备注")])),_:1}),r(g,{modelValue:t.remark,"onUpdate:modelValue":l[2]||(l[2]=e=>t.remark=e),placeholder:"请输入备注信息",height:"106"},null,8,["modelValue"])])),_:1})])),_:1}),r(i,{class:"footer"},{default:n((()=>[r(i,{class:"footer-in"},{default:n((()=>[r(i,{class:"total"},{default:n((()=>[r(i,{class:"ico"}),r(i,{class:"cost"},{default:n((()=>[r(i,{class:"charge"},{default:n((()=>[r(i,{class:"price"},{default:n((()=>[r(i,{class:"unit"},{default:n((()=>[d("￥")])),_:1}),d("100.00")])),_:1}),r(i,{class:"origin-price"},{default:n((()=>[d("￥200.00")])),_:1})])),_:1}),r(y,{class:"spare",text:"共省100.00元",plain:""},null,8,["text"])])),_:1})])),_:1}),r(C,{class:"btn",text:"提交订单",onClick:l[3]||(l[3]=e=>t.gotoPath(`/pages/operation/tip?brandId=${t.brandId}&way=${t.way}`))})])),_:1})])),_:1}),r(i,{class:"serice-mod"},{default:n((()=>[r(f,{class:"ico",iconProps:{name:"server-man"},size:"50",color:"#fff",onClick:l[4]||(l[4]=e=>t.callPhone())})])),_:1})])),_:1},8,["class"])}}}),[["__scopeId","data-v-72862624"]]);export{V as default};
